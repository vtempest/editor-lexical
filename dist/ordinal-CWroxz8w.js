import{i as e}from"./init-C0SZ43gy.js";class InternMap extends Map{constructor(e,n=t){if(super(),Object.defineProperties(this,{_intern:{value:/* @__PURE__ */new Map},_key:{value:n}}),null!=e)for(const[t,r]of e)this.set(t,r)}get(e){return super.get(n(this,e))}has(e){return super.has(n(this,e))}set(e,n){return super.set(function({_intern:e,_key:n},t){const r=n(t);return e.has(r)?e.get(r):(e.set(r,t),t)}(this,e),n)}delete(e){return super.delete(function({_intern:e,_key:n},t){const r=n(t);e.has(r)&&(t=e.get(r),e.delete(r));return t}(this,e))}}function n({_intern:e,_key:n},t){const r=n(t);return e.has(r)?e.get(r):t}function t(e){return null!==e&&"object"==typeof e?e.valueOf():e}const r=/* @__PURE__ */Symbol("implicit");function s(){var n=new InternMap,t=[],u=[],i=r;function o(e){let s=n.get(e);if(void 0===s){if(i!==r)return i;n.set(e,s=t.push(e)-1)}return u[s%u.length]}return o.domain=function(e){if(!arguments.length)return t.slice();t=[],n=new InternMap;for(const r of e)n.has(r)||n.set(r,t.push(r)-1);return o},o.range=function(e){return arguments.length?(u=Array.from(e),o):u.slice()},o.unknown=function(e){return arguments.length?(i=e,o):i},o.copy=function(){return s(t,u).unknown(i)},e.apply(o,arguments),o}export{s as o};
